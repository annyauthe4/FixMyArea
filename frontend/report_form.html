<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Report an Issue - FixMyArea</title>
		<link rel="stylesheet" href="./css/reports.css" />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
			rel="stylesheet"
		/>
		<!-- Font Awesome for icons -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
		/>
	</head>
	<body>
		<!-- Navigation -->
		<nav class="navbar">
			<div class="nav-container">
				<div class="nav-logo">
					<img
						src="./assets/fix_my_area_logo.jpg"
						alt="FixMyArea Logo"
						class="logo-icon"
					/>
					<span class="logo-text">FixMyArea</span>
				</div>
				<div class="nav-links">
					<a href="./user_dashboard.html" class="nav-link">Dashboard</a>
					<a href="./user_dashboard.html#my-reports" class="nav-link">My Reports</a>
					<a href="#" class="nav-link nav-logout">Logout</a>
				</div>
				<button class="mobile-menu-btn" id="mobileMenuBtn">
					<span></span>
					<span></span>
					<span></span>
				</button>
			</div>
		</nav>

		<!-- Main Content -->
		<main class="main-content">
			<div class="form-container">
				<!-- Header Section -->
				<div class="form-header">
					<div class="header-icon">
						<i class="fas fa-exclamation-triangle"></i>
					</div>
					<h1 class="form-title">Report an Issue</h1>
					<p class="form-subtitle">
						Help improve your community by reporting local issues. Your report will be
						sent directly to the relevant government department.
					</p>
				</div>

				<!-- Progress Indicator -->
				<div class="progress-indicator">
					<div class="progress-step active">
						<div class="step-circle">1</div>
						<span class="step-label">Issue Details</span>
					</div>
					<div class="progress-line"></div>
					<div class="progress-step">
						<div class="step-circle">2</div>
						<span class="step-label">Review & Submit</span>
					</div>
				</div>

				<!-- Report Form -->
				<form class="report-form" id="reportForm">
					<!-- Issue Title -->
					<div class="form-group">
						<label for="issueTitle" class="form-label">
							<i class="fas fa-heading label-icon"></i>
							Issue Title
							<span class="required">*</span>
						</label>
						<input
							type="text"
							id="issueTitle"
							name="issueTitle"
							class="form-input"
							placeholder="e.g., Broken streetlight on Oak Street"
							required
							maxlength="100"
							aria-describedby="title-help title-error"
						/>
						<div class="input-help" id="title-help">
							Keep it short and descriptive (max 100 characters)
						</div>
						<div class="character-count"><span id="titleCount">0</span>/100</div>
						<span class="error-message" id="title-error"></span>
					</div>

					<!-- Category -->
					<div class="form-group">
						<label for="category" class="form-label">
							<i class="fas fa-tags label-icon"></i>
							Category
							<span class="required">*</span>
						</label>
						<div class="select-wrapper">
							<select
								id="category"
								name="category"
								class="form-select"
								required
								aria-describedby="category-help category-error"
							>
								<option value="">Select a category</option>
								<option value="road-maintenance">🛣️ Road Maintenance</option>
								<option value="street-lighting">💡 Street Lighting</option>
								<option value="water-utilities">💧 Water & Utilities</option>
								<option value="waste-management">🗑️ Waste Management</option>
								<option value="parks-recreation">🌳 Parks & Recreation</option>
								<option value="public-safety">🚨 Public Safety</option>
								<option value="traffic-signs">🚦 Traffic & Signs</option>
								<option value="other">📋 Other</option>
							</select>
							<i class="fas fa-chevron-down select-arrow"></i>
						</div>
						<div class="input-help" id="category-help">
							Choose the category that best describes your issue
						</div>
						<span class="error-message" id="category-error"></span>
					</div>

					<!-- Description -->
					<div class="form-group">
						<label for="description" class="form-label">
							<i class="fas fa-align-left label-icon"></i>
							Description
							<span class="required">*</span>
						</label>
						<textarea
							id="description"
							name="description"
							class="form-textarea"
							placeholder="Please provide detailed information about the issue. Include when you first noticed it, how it affects the community, and any other relevant details..."
							required
							rows="6"
							maxlength="1000"
							aria-describedby="description-help description-error"
						></textarea>
						<div class="input-help" id="description-help">
							Provide as much detail as possible to help us understand and resolve the
							issue
						</div>
						<div class="character-count">
							<span id="descriptionCount">0</span>/1000
						</div>
						<span class="error-message" id="description-error"></span>
					</div>

					<!-- Location -->
					<div class="form-group">
						<label for="location" class="form-label">
							<i class="fas fa-map-marker-alt label-icon"></i>
							Location Description
							<span class="required">*</span>
						</label>
						<input
							type="text"
							id="location"
							name="location"
							class="form-input"
							placeholder="e.g., Corner of Main Street and 5th Avenue, near the post office"
							required
							maxlength="200"
							aria-describedby="location-help location-error"
						/>
						<div class="input-help" id="location-help">
							Provide the exact address or describe nearby landmarks
						</div>
						<div class="character-count"><span id="locationCount">0</span>/200</div>
						<span class="error-message" id="location-error"></span>
					</div>

					<!-- Priority Level -->
					<div class="form-group">
						<label class="form-label">
							<i class="fas fa-exclamation-circle label-icon"></i>
							Priority Level
							<span class="required">*</span>
						</label>
						<div class="radio-group">
							<label class="radio-option">
								<input type="radio" name="priority" value="low" class="radio-input" />
								<span class="radio-custom"></span>
								<div class="radio-content">
									<span class="radio-title">Low Priority</span>
									<span class="radio-description">Minor issue, not urgent</span>
								</div>
							</label>
							<label class="radio-option">
								<input
									type="radio"
									name="priority"
									value="medium"
									class="radio-input"
									checked
								/>
								<span class="radio-custom"></span>
								<div class="radio-content">
									<span class="radio-title">Medium Priority</span>
									<span class="radio-description"
										>Moderate issue affecting daily life</span
									>
								</div>
							</label>
							<label class="radio-option">
								<input type="radio" name="priority" value="high" class="radio-input" />
								<span class="radio-custom"></span>
								<div class="radio-content">
									<span class="radio-title">High Priority</span>
									<span class="radio-description">Urgent issue posing safety risks</span>
								</div>
							</label>
						</div>
						<span class="error-message" id="priority-error"></span>
					</div>

					<!-- Image Upload -->
					<div class="form-group">
						<label for="imageUpload" class="form-label">
							<i class="fas fa-camera label-icon"></i>
							Upload Photo (Optional)
						</label>
						<div class="upload-area" id="uploadArea">
							<input
								type="file"
								id="imageUpload"
								name="imageUpload"
								class="file-input"
								accept="image/jpeg,image/jpg,image/png,image/webp"
								aria-describedby="upload-help upload-error"
							/>
							<div class="upload-content">
								<i class="fas fa-cloud-upload-alt upload-icon"></i>
								<p class="upload-text">
									<strong>Click to upload</strong> or drag and drop
								</p>
								<p class="upload-formats">JPG, PNG, WEBP (max 5MB)</p>
							</div>
						</div>
						<div class="uploaded-file" id="uploadedFile" style="display: none">
							<div class="file-info">
								<i class="fas fa-image file-icon"></i>
								<span class="file-name"></span>
								<button type="button" class="remove-file" id="removeFile">
									<i class="fas fa-times"></i>
								</button>
							</div>
							<div class="file-preview">
								<img id="imagePreview" alt="Preview" />
							</div>
						</div>
						<div class="input-help" id="upload-help">
							A photo helps us understand the issue better and speeds up resolution
						</div>
						<span class="error-message" id="upload-error"></span>
					</div>

					<!-- Contact Information -->
					<div class="form-group">
						<label class="form-label">
							<i class="fas fa-envelope label-icon"></i>
							Contact Preferences
						</label>
						<div class="checkbox-group">
							<label class="checkbox-option">
								<input
									type="checkbox"
									name="notifications"
									value="email"
									class="checkbox-input"
									checked
								/>
								<span class="checkbox-custom"></span>
								<span class="checkbox-text"
									>Send me email updates about this report</span
								>
							</label>
							<label class="checkbox-option">
								<input
									type="checkbox"
									name="notifications"
									value="sms"
									class="checkbox-input"
								/>
								<span class="checkbox-custom"></span>
								<span class="checkbox-text"
									>Send me SMS updates (if phone number provided)</span
								>
							</label>
						</div>
					</div>

					<!-- Form Actions -->
					<div class="form-actions">
						<button type="button" class="btn-secondary" id="saveDraft">
							<i class="fas fa-save"></i>
							Save as Draft
						</button>
						<button type="submit" class="btn-primary" id="submitReport">
							<i class="fas fa-paper-plane"></i>
							Submit Report
						</button>
					</div>
				</form>

				<!-- Help Section -->
				<div class="help-section">
					<h3 class="help-title">Need Help?</h3>
					<div class="help-content">
						<div class="help-item">
							<i class="fas fa-question-circle help-icon"></i>
							<div>
								<strong>What happens after I submit?</strong>
								<p>
									Your report will be reviewed by the relevant department within 2-3
									business days.
								</p>
							</div>
						</div>
						<div class="help-item">
							<i class="fas fa-clock help-icon"></i>
							<div>
								<strong>How long does resolution take?</strong>
								<p>
									Resolution times vary by issue type, but you'll receive regular updates
									on progress.
								</p>
							</div>
						</div>
						<div class="help-item">
							<i class="fas fa-phone help-icon"></i>
							<div>
								<strong>Emergency issues?</strong>
								<p>
									For urgent safety issues, call emergency services first, then submit a
									report.
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>

		<!-- Success Modal -->
		<div class="modal-overlay" id="successModal">
			<div class="modal-content success-modal">
				<div class="modal-icon">
					<i class="fas fa-check-circle"></i>
				</div>
				<h2 class="modal-title">Report Submitted Successfully!</h2>
				<p class="modal-text">
					Thank you for helping improve your community. Your report has been
					submitted and assigned ID: <strong id="reportId">#2024-001</strong>
				</p>
				<div class="modal-actions">
					<button class="btn-secondary" id="submitAnother">
						Submit Another Report
					</button>
					<button class="btn-primary" id="viewReports">View My Reports</button>
				</div>
			</div>
		</div>

		<script src="./dist/reports.js"></script>
	</body>
</html>
